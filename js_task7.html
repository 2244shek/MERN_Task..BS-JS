<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JavaScript Task-07</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
    <style>
        #movingImage {
            width: 300px;
            height: 300px;
            margin: 50px;
        }

        #startButton {
            margin-top: 350px;
            margin-left: 600px;
        }

        #heading {
            color: blue;
            text-align: center;
        }
    </style>
</head>

<body>
    <div>
        <img id="movingImage"
            src="https://clipart-library.com/new_gallery/7-79645_toy-train-clipart-png-download-toy-train-clip.png"
            style="position: absolute; left: 0;">
    </div>
    <div>
        <h3 id="heading" >Click the following buttons to handle the animation</h3>
        <button id="startButton">Start</button>
        <button id="stopButton">Stop</button>
    </div>

    <script>
        const movingImage = document.getElementById("movingImage");
        const startButton = document.getElementById("startButton");
        const stopButton = document.getElementById("stopButton");

        let animationId;
        let isMoving = false;

        function moveImage() {
            const currentPosition = parseInt(movingImage.style.left) || 0;
            const newPosition = currentPosition + 1;
            movingImage.style.left = newPosition + "px";

            animationId = requestAnimationFrame(moveImage);
        }

        startButton.addEventListener("click", function () {
            if (!isMoving) {
                isMoving = true;
                moveImage();
            }
        });

        stopButton.addEventListener("click", function () {
            if (isMoving) {
                isMoving = false;
                cancelAnimationFrame(animationId);
            }
        });

    </script>
</body>

</html>